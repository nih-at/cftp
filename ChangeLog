1999-04-09  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* readdir.c (parse_ms): new function.
	(read_dir): loop over parser functions until accepted.  free line
	here.
	(parse_unix): reject line if strcspn(line, " ") != 10.  don't free
	line.

1999-02-08  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* added 1999 to copyright notices.
	* readrc.c (readrc): remember password when part of alias url.

1998-12-31  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* ftp.c (ftp_retr): place size from 150 response in *sizep (new
	argument); changed callers.
	* fn_select.c (aux_download): use size from ftp_retr if size
	unknown.

1998-12-16  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* util.c (argstostr): removed (args_to_string is
	duplicate), changed callers.
	(args_to_string): fixed bug which placed all args at beginning of
	string.
	
1998-10-19  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* display.h, options.op, list.c (list_full),
	status.c (opt_set_status): removed opt_emacs_status.

	* status.c (status_do): handle short status line (space < 0).

1998-10-17  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* bindings.desc: added mkdir, site.

	* util.h, util.c (args_to_string): new function.

	* ftp.h, ftp.c (ftp_site): new function.

	* fntable.fn, fn_basic.c (fn_site): new function.

1998-10-07  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* ftp.c (ftp_stor): accept response 125.

1998-10-07  Wiz  <wiz@danbala.tuwien.ac.at>

	* fn_select.c (fn_reload): reload logically current dir, not
	physically current.

	* bindings.desc, fn_basic.c (fn_showname): new option -l: show
	link target.

	* readdir.c (parse_unix): better parsing of symbolic links (Windows).

	* display.c: removed include for termcap.h

	* main.c (main): if startdir is file, download.

1998-05-14  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* fputchar.c (fputchar): return a value.

	* main.c, tty.h, display.h, fn_tag.c, tag.h: cleanup for -Wall.

1998-05-01  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* directory.c, tty.h: cleanup for -Wall.

1998-04-30  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* signals.c: cleanup for -Wall

	* util.c (parse_url, deurl, hexdigit): moved from main.c

1998-04-25  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* fn_basic.c (fn_mkdir): new function.

	* ftp.c (ftp_mkdir): new funktion.

1998-03-12  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* ftp.c (ftp_cwd, ftp_pwd): handle DOS servers with leading '\\'
	in directory names.

1998-03-02  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* ftp.c (ftp_cat): new parameter start.  callers changed.

1998-02-27  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* ftp.c (ftp_retr): new parameter startp.  callers changed.

	* fn_tag.c (fn_gettags): new option -c: restart.

	* fn_select.c (aux_download): new parameter restart.  callers
	changed.

	* tty.c (tty_readkey): fixed handling of 8 bit chars (s now
	unsigned char).

1998-01-24  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* fn_scroll.c (aux_scroll_page): fixed page scrolling when listing
	is shorter than screen.

1998-01-21  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* main.c (parse_url): ignore trailing colon in host part.
	(deurl): treat percent at end of string as regular char.

1997-12-18  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* fntable.h.proto: added newline to last line.

1997-12-17  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* ftp.c (ftp_port, ftp_accept): support for passive mode.

1997-12-03  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* fn_tag.c (fn_tag): globbing tag/untag (-t, -u).

	* main.c (print_usage): fixed shadow bug.

1997-12-02  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* fn_scroll.c (aux_scroll_line): handle `opt_wrap'.
	(aux_scroll_page): handle `opt_wrap'.

	* options.op (opt_wrap): new option.

1997-11-24  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* ftp.c (ftp_list): dup path before storing in dir structure.
	store path in structure.

	* fn_scroll.c (aux_scroll_page): changed wrapping behavior.

1997-11-21  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* main.c: fixed typo.
	(print_usage): changed calling convention; callers changed.

1997-11-20  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* fn_select.c (fn_reload): new function.

	* tag.c (change_curdir): handle NULL `curdir'.

	* ftp.c (ftp_cd): new argument `force'; changed callers.

	* directory.c (get_dir): new argument `force'.

1997-11-14  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* ftp.c (ftp_init): new function
	(ftp_pwd): check for and handle DOS path names
	(ftp_cwd): check for and handle DOS path names

1997-11-03  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* ftp.c (ftp_pwd): set ftp_pcwd

1997-10-29  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* directory.c (opt_set_sort): don't sort curdir if it's NULL.
	(get_dir): moved call to dir_sort here.

	* readdir.c (init_parse_time): new function.
	(parse_time): init non-standard fields of struct tm from global
	now.  Use global now instead of calling time(), gmtime() on each
	invocation.

	* hstrerror.c (hstrerror): renamed h_errlist to _h_errlist to
	avoid conflict with libresolv on Solaris.  _h_errlist & _h_nerr
	now static.

1997-10-25  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* fn_basic.c (fn_help): listings, more info on options.

	* display.c (disp_open): reenter display if open failed.

1997-10-24  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* main.c: (main): moved version tail text to variable
	version_tail; adapted to example in GNU standards 97/07/4.
	(deurl): fixed double increment of s in single statement.

	* fn_basic.c (fn_lcd): don't get cwd if rc_inrc.

1997-10-23  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* fn_basic.c (fn_set): handle enum options.

	* mkoptab-h.m4, mkoptab-c.m4, mkoptexi.m4: new option type enum.

	* directory.c (dir_sort): new function.
	(sort_unsorted, sort_name, sort_date, sort_name_r, sort_date_r):
	new function.
	(opt_set_sort): new function.

	* readdir.c (read_dir): init new members pos and sorted.

	* directory.h: new member pos in struct direntry; new member sort
	in struct directory.

	* readrc.c (readrc): treat lines beginning with `#' as comments.

	* options.op: (sort) new option.

1997-10-21  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* readdir.c (parse_unix): parse modification time.
	(parse_time): new function.
	
	* directory.h: new member mtime in struct direntry.

	* fn_select.c (aux_download): ftp_close(fout), fclose(fin) -- not
	the other way around.
	(aux_upload): new function.
	(fn_put): new function.

	* ftp.c (ftp_stor): new function.

1997-10-17  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* ftp.c (ftp_close): return if not connected
	(ftp_resp): return -1 if not connected

	* sockets.c (sopen): write error in message area when display is
	active.

	* display.c: new variable `disp_active'.

1997-10-14  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* directory.c (get_dir): reuse cache entry only if ftp_list
	succeeded.

1997-10-08  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* main.c (main): --version and --help: conform to GNU standards.

	* version.c (version): conform to GNU standards.

	* main.c (get_annon_passwd): Handle domainname ``(none)'',
	check for beginning dot, existing user, dot in hostname. 

	* ftp.c (ftp_login): Set status.remote.path to NULL after freeing.

	* status.c (status_do): Print space in "host... ...path".

